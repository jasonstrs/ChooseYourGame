
<div class="col-sm-8 col-sm-offset-2">
    <form [formGroup]="gameForm" (ngSubmit)="onModifGame()">
        <div id="top" class="mb-2">
            <h2 class="">{{game.title}}</h2>
            <img class="imgProfil" [src]="imgUrl">
        </div>
        <div class="from-group">
            <label for="file" class="mr-1">Ajouter une photo</label>
            <svg class="bi bi-pencil-square" (click)="changeValue(refPhoto)" *ngIf="!isChanging" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
              </svg>
            <input type="file" name="file" disabled="true" id="photo" #refPhoto (change)="detectFiles($event)" class="form-control" accept="image/*">
        </div>
        
        <hr>
        <div class="form-group">
            <label for="developpeur" class="mr-1">Développeur</label>
            <svg (click)="changeValue(refDeveloppeur)" *ngIf="!isChanging" class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg>
                
            <input type="text" id="developpeur" disabled="true" #refDeveloppeur class="form-control" formControlName="developpeur">
            
        </div>
        <hr>
        <div class="form-group">
            <label for="age" class="mr-1">Âge requis</label>
            <svg (click)="changeValue(refAge)" *ngIf="!isChanging" class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg> 
            <input type="number" id="age" #refAge disabled="true" class="form-control" min="1" max="18" formControlName="age">
        </div>
        <hr>
        <div class="form-group">
            <label for="genre" class="mr-1">Genre(s)</label>
            <svg class="bi bi-pencil-square" (click)="changeValue(refGenres)" *ngIf="!isChanging" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg> 
            
            <div class="input-group" >
                <select class="custom-select" #refGenres [disabled]="!isGenreModif || isFull" id="genre" aria-label="" >
                    <option *ngFor="let genre of genres; let i=index" value="{{i}}">{{genre}}</option>
                </select>
                <div class="input-group-prepend">
                    <button class="btn btn-outline-secondary" [disabled]="!isGenreModif || isFull" (click)="ajouterGenre(refGenres)" type="button" >Ajouter</button>
                </div>
            </div>
            <ul class="list-group list-group-horizontal" *ngIf="oneGenre" id="listGenreSelected"> <!--S'il y a au moins un genre, on affiche-->
                <li class="list-group-item" [ngClass]="{disabled: !isGenreModif}" *ngFor="let genreSelected of genresSelected;let i=index">{{genreSelected}}
                    <svg (click)="removeGenre(i)" class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/>
                  </svg>
                </li>
            </ul>
            
            <div *ngIf="!oneGenre" class="custom-control invalid-feedback" style="padding-left: 0%;">
                Veuillez saisir au moins un genre
            </div>
        </div>
        <hr>
        <div class="form-group">
            <label for="plateforme" class="mr-1">Plateforme(s)</label>
            <svg class="bi bi-pencil-square" (click)="changeValue(refPlateformes)" *ngIf="!isChanging" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg> 
            
            <div class="input-group">
                <select class="custom-select" [disabled]="!isPlateformeModif || isEmpty" #refPlateformes id="plateforme" aria-label="">
                    <option *ngFor="let plateforme of plateformes; let i=index" value="{{i}}">{{plateforme}}</option>
                </select>
                <div class="input-group-prepend">
                    <button class="btn btn-outline-secondary" [disabled]="!isPlateformeModif || isEmpty"  (click)="ajouterPlateforme(refPlateformes)" type="button">Ajouter</button>
                </div>
            </div>
            <ul class="list-group list-group-horizontal" id="listPlateformeSelected" *ngIf="onePlateforme"> <!--S'il y a au moins un genre, on affiche-->
                <li class="list-group-item" [ngClass]="{disabled: !isPlateformeModif}" *ngFor="let plateformeSelected of plateformesSelected;let i=index">{{plateformeSelected}}
                    <svg (click)="removePlateforme(i)" class="bi bi-trash" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z"/>
                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" clip-rule="evenodd"/>
                  </svg>
                </li>
            </ul>
            <div *ngIf="!onePlateforme" class="custom-control invalid-feedback" style="padding-left: 0%;">
                Veuillez saisir au moins une plateforme
            </div> 
        </div>
        <hr>
        <div class="form-group">
            <div class="custom-control custom-checkbox mr-sm-2">
                <input type="checkbox" disabled="true" #refMultijoueur class="custom-control-input" id="multijoueur" formControlName="multijoueur">
                <label class="custom-control-label mr-1" for="multijoueur">Multijoueur</label>
                <svg (click)="changeValue(refMultijoueur)" *ngIf="!isChanging" class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                    <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
                </svg> 
            </div>
        </div>
        <hr>
        <div class="form-group">
            <label for="releaseYear" class="mr-1">Année de sortie</label>
            <svg (click)="changeValue(refAnnee)" *ngIf="!isChanging" class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg> 
            <input type="number" disabled="true" id="releaseYear" #refAnnee class="form-control" formControlName="releaseYear">
        </div>
        <hr>
        <div class="form-group">
            <label for="description" class="mr-1">Description</label>
            <svg (click)="changeValue(refDescription)" *ngIf="!isChanging" class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
                <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
            </svg> 
            <textarea class="form-control" disabled="true" id="description" #refDescription rows="3" formControlName="description"></textarea>
        </div>

        <button class="btn btn-outline-success" [disabled]="isChanging">Proposer une modification</button>
    </form>
    <button class="btn btn-outline-info ml-3" (click)="onReset()" [disabled]="isChanging" >Reset</button>
    <button class="btn btn-outline-danger ml-3" (click)="onBack()">Retour au jeu</button>
</div>